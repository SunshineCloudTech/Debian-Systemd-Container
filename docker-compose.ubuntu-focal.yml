version: '3.8'

services:
  ubuntu-focal-systemd:
    image: sunshinecloud007/systemd-container:ubuntu-focal
    container_name: ubuntu-focal-systemd
    privileged: true
    restart: unless-stopped
    
    # 必需的 systemd 配置
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:rw
    
    # 使用主机的 cgroup namespace (需要 Docker Compose v2.1+)
    cgroup: host
    
    # 可选：持久化数据卷
    # volumes:
    #   - ubuntu-focal-data:/root
    #   - ubuntu-focal-home:/home
    
    # 可选：端口映射
    # ports:
    #   - "2222:22"    # SSH
    #   - "8080:80"    # HTTP
    #   - "11434:11434" # Ollama
    
    # 可选：环境变量
    # environment:
    #   - TZ=Asia/Shanghai
    
    # 可选：网络配置
    # networks:
    #   - systemd-net

# 可选：定义数据卷
# volumes:
#   ubuntu-focal-data:
#   ubuntu-focal-home:

# 可选：定义网络
# networks:
#   systemd-net:
#     driver: bridge
